<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>File Runner</title>
        <link rel="stylesheet" href="style.css" />
        <style>
            body {
                font-family: monospace;
                margin: 0;
                padding: 0;
                background-color: black;
                color: lime;
                height: 100vh;
                display: flex;
                flex-direction: column;
            }
            #navbar {
                background-color: #333;
                overflow: hidden;
            }
            #navbar a {
                float: left;
                display: block;
                color: #f2f2f2;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }
            #navbar a:hover {
                background-color: #ddd;
                color: black;
            }
            #uploadSection,
            #terminalSection {
                display: none;
                padding: 20px;
            }
            #uploadSection.active {
                display: block;
                background-color: white;
                color: black;
            }
            #terminalSection.active {
                display: flex;
                flex-direction: column;
                height: 100%;
                padding: 0;
            }
            #dropZone {
                width: 300px;
                height: 200px;
                border: 2px dashed #888;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #888;
                margin: 20px auto;
                text-align: center;
            }
            #terminal {
                flex: 1;
                background-color: black;
                color: lime;
                overflow-y: scroll;
                padding: 10px;
                white-space: pre-wrap;
                font-size: 14px;
                border: none;
            }
            #commandWrapper {
                display: flex;
                padding: 5px 10px;
                background-color: black;
                border-top: 1px solid #333;
            }
            #commandPrompt {
                color: lime;
                margin-right: 5px;
            }
            #commandInput {
                flex: 1;
                background-color: black;
                color: lime;
                border: none;
                font-family: monospace;
                font-size: 14px;
                outline: none;
            }
            #executeBtn {
                display: none; /* Hide this button as it's not needed in CLI style */
            }
            #settingsSection {
                display: none;
                padding: 20px;
                background-color: black;
                color: lime;
            }
            
            #settingsSection.active {
                display: block;
            }
            
            .settings-container {
                max-width: 600px;
                margin: 0 auto;
            }
            
            .settings-container > div {
                margin-bottom: 20px;
            }
            
            .settings-container label {
                display: block;
                margin-bottom: 5px;
            }
            
            .settings-container select,
            .settings-container input {
                width: 100%;
                padding: 8px;
                background-color: #333;
                color: lime;
                border: 1px solid lime;
                border-radius: 4px;
            }
            
            #saveSettings {
                background-color: lime;
                color: black;
                border: none;
                padding: 10px 20px;
                border-radius: 4px;
                cursor: pointer;
            }
            
            #saveSettings:hover {
                background-color: #00cc00;
            }
            
            .button-group {
                display: flex;
                gap: 10px;
            }
            
            #testConnection {
                background-color: #333;
                color: lime;
                border: 1px solid lime;
                padding: 10px 20px;
                border-radius: 4px;
                cursor: pointer;
            }
            
            #testConnection:hover {
                background-color: #444;
            }
            
            #testConnection:disabled,
            #saveSettings:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }
            
            .notification {
                display: none;
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 4px;
                color: white;
                max-width: 300px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
            }

            .notification.success {
                background-color: #00cc00;
                border: 1px solid #00aa00;
            }

            .notification.error {
                background-color: #ff3333;
                border: 1px solid #cc0000;
            }

            .notification-close {
                background: none;
                border: none;
                color: white;
                float: right;
                cursor: pointer;
                font-size: 18px;
                margin-left: 10px;
                padding: 0 5px;
            }

            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }

            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        </style>
    </head>
    <body>
        <div id="navbar">
            <a href="#" onclick="showSection('uploadSection')">Upload</a>
            <a href="#" onclick="showSection('terminalSection')">Terminal</a>
            <a href="#" onclick="showSection('settingsSection')">Settings</a>
        </div>

        <div id="uploadSection" class="active">
            <h1>Upload a File</h1>
            <div class="upload-area">
                <div id="dropZone">
                    <p>Drop file here</p>
                    <p>or</p>
                    <label for="fileInput" class="file-input-label">Browse Files</label>
                    <input type="file" id="fileInput" class="file-input">
                </div>
                
                <div class="upload-controls">
                    <button id="uploadBtn" class="btn">Upload Selected File</button>
                    <div id="uploadStatus"></div>
                    <div class="auto-execute">
                        <input type="checkbox" id="autoExecute">
                        <label for="autoExecute">Auto-execute after upload</label>
                    </div>
                </div>
            </div>
        </div>

        <div id="terminalSection">
            <div id="terminal" tabindex="0"></div>
            <div id="commandWrapper">
                <span id="commandPrompt">&gt;</span>
                <input type="text" id="commandInput" autofocus />
            </div>
            <button id="executeBtn">Execute File</button>
        </div>

        <div id="settingsSection">
            <h1>Settings</h1>
            <div class="settings-container">
                <div class="provider-select">
                    <label for="provider">AI Provider:</label>
                    <select id="provider" onchange="updateModelOptions()">
                        <option value="anthropic">Anthropic</option>
                        <option value="openai">OpenAI</option>
                        <option value="openrouter">OpenRouter</option>
                    </select>
                </div>
                
                <div class="model-select">
                    <label for="model">Model:</label>
                    <select id="model">
                        <!-- Will be populated by JavaScript -->
                    </select>
                </div>

                <div class="api-key">
                    <label for="apiKey">API Key:</label>
                    <input type="password" id="apiKey" placeholder="Enter your API key">
                </div>

                <div class="button-group">
                    <button id="testConnection">Test Connection</button>
                    <button id="saveSettings">Save Settings</button>
                </div>
            </div>
        </div>

        <div id="chatPanel" class="chat-panel">
            <div class="chat-header">
                <h2>AI Assistant</h2>
                <button id="closeChatBtn" onclick="toggleChat()">âœ•</button>
            </div>
            <div id="chatMessages" class="chat-messages"></div>
            <div class="chat-input-container">
                <textarea id="chatInput" placeholder="Ask a question about your code or debugging..."></textarea>
                <button id="sendChatBtn">Send</button>
            </div>
            <div class="chat-footer">
                <span id="modelInfo">Using model: <span id="currentModel">Loading...</span></span>
            </div>
        </div>

        <button class="open-chat-btn" id="openChatBtn">ðŸ’¬</button>

        <div id="notification" class="notification">
            <span id="notificationMessage"></span>
            <button class="notification-close">&times;</button>
        </div>

        <script src="app.js"></script>
    </body>
</html>
